(()=>{"use strict";const t=class{constructor(t,e=[]){this.name=t,this.todos=e}get name(){return this._name}set name(t){this._name=t}addTodo(t){this.todos.push(t)}},e=class{constructor(t,e,o=!1,n="No date"){this.task=t,this.description=e,this.done=o,this.date=n}get done(){return this._done}set done(t){this._done=t}},o=class{static initLocalStorage(){if(0!==localStorage.length)return;const o=new e("Create a new Todo!","Bla bla"),n=new t("Main",[o]);localStorage.setItem("projects",JSON.stringify([n]))}static getStorage(){return JSON.parse(localStorage.getItem("projects")).map((o=>{const n=Object.assign(new t,o);return n.todos=n.todos.map((t=>Object.assign(new e,t))),n}))}};class n{static renderView(){const t=o.getStorage(),e=t[0];n.renderProjects(t),n.renderTodos(e)}static renderProjects(t){t.forEach((t=>{n.createProjectButton(t)}))}static renderTodos(t){document.querySelector(".current-project").textContent=t.name;const e=document.querySelector(".todos-view");t.todos.forEach((t=>{const o=n.createTodoElement(t);e.appendChild(o)}))}static createProjectButton(t){const e=document.querySelector("#project-list"),o=document.createElement("button");o.classList.add("btn","project","project-btn"),o.textContent=t.name,e.appendChild(o)}static createTodoElement(t){const e=document.createElement("div");e.classList.add("todo-element");const o=document.createElement("button");o.textContent="✓",o.classList.add("btn","todo-btn","check-todo");const c=n.createTodoContentElement(t),s=document.createElement("button");return s.textContent="⛌",s.classList.add("btn","todo-btn","remove-todo"),[o,c,s].forEach((t=>e.appendChild(t))),e}static createTodoContentElement(t){const e=document.createElement("div");e.classList.add("todo-content");const o=document.createElement("div"),n=document.createElement("p");n.classList.add("todo"),n.textContent=t.task;const c=document.createElement("p");c.classList.add("todo-description"),c.textContent=t.description,[n,c].forEach((t=>o.appendChild(t)));const s=document.createElement("input");return s.type="date",s.name="todo-date",s.id="todo-date",[o,s].forEach((t=>e.appendChild(t))),e}}const c=n;class s{static handleForms(){s.handleProjectForm()}static handleProjectForm(){const e=document.querySelector("#new-project-form");e.addEventListener("submit",(o=>{o.preventDefault();const n=new FormData(e),s=new t(n.get("new-project-name"));c.createProjectButton(s),d.toggleClass(e.parentElement,"inactive")}))}}const a=s;class r{static loadPage(){r.handleButtons(),a.handleForms(),c.renderView()}static handleButtons(){const t=document.querySelector("#add-proj"),e=document.querySelector(".new-project-div"),o=document.querySelector("#new-todo"),n=document.querySelector(".new-todo-div"),c=document.querySelector(".burger"),s=document.querySelector(".sidebar");t.addEventListener("click",(()=>r.toggleClass(e,"inactive"))),o.addEventListener("click",(()=>r.toggleClass(n,"inactive"))),c.addEventListener("click",(()=>r.toggleClass(s,"hidden")))}static toggleClass(t,e){t.classList.toggle(e)}}const d=r;o.initLocalStorage(),d.loadPage()})();